<!DOCTYPE html>
<html>
<head>
	<title>E-LEARNING SMASa</title>
	<link rel="stylesheet" type="text/css" href="profilpengguna.css">
	<link rel="shortcut icon" href="http://web.sman1jember.sch.id/images/LOGO-SMA-RUJUKAN-rev2-500px.png" alt="Logo SMAN 1 Jember">
</head>
<body>
	<div class="namaweb"> 
        <img src="http://web.sman1jember.sch.id/images/LOGO-SMA-RUJUKAN-rev2-500px.png" alt="Logo SMAN 1 Jember">
        <h1>E<b>-LEARNING<br>SMAN 1 JEMBER</b></h1>
	</div>
	<div class="menu">
		<ul>
			<li><a href="index.html">HOME</a></li>
			<li><a href="tentangkami.html">TENTANG KAMI</a></li>
			<li><a href="mycourse.html">MY COURSES</a>
                <ul>
                    <li><a href="hasilbelajarku.html">HASIL BELAJARKU</a></li>
                    <li><a href="mycourse_jadwal.html">JADWAL</a></li>
                    <li><a href="mycourse_pelajaranku.html">PELAJARANKU</a></li>
                    <li><a href="profilpengguna.html">DATA DIRIKU</a></li>
                </ul>
            </li>
            <li><a href="hubungikami.html">HUBUNGI KAMI</a></li>
            <li><a href="login.html">LOGOUT</a></li>
		</ul>
	</div>
	<div class="content">
		<h1>DATA <b>DIRIKU</b></h1>
		<div class="foto">
			<img src="SOURCE/user.png" id="imgdefault"><br>
			<img src="" id="imgpreview"><br>
			<input type="file" id="ubahfoto" class="hide"><br>
			<label for="ubahfoto"><span>UBAH FOTO</span></label><br>
			<input type="button" id="ubahpassword" value="UBAH PASSWORD">
		</div>
		<div class="profil">
			<p>
				Nama: <br>
				Muhammad Naufal Hafiyyan <br>
				<br>
				NISN: <br>
				0000648645 <br>
				<br>
				NIS: <br>
				13249 <br>
				<br>
				Tempat Lahir: <br>
				Jember, Jawa Timur <br>
				<br>
				Tanggal Lahir: <br>
				10 September 2000 <br>
				<br>
				Jenis Kelamin: <br>
				Laki-Laki <br>
				<br>
				No. Telepon: <br>
				0895410801763 <br>
				<br>
				Alamat: <br>
				Jalan Wahid Hasyim 35 <br>
				<br>
				Email: <br>
				Naufalhafiyyan10@gmail.com
			</p>
		</div>
	</div>
	<div class="bg-popup">
		<div class="popup">
			<h1>UBAH PASSWORD</h1>
			<hr>
			<form onsubmit="return validate()"> 
				<div id="error_message"></div>
				<input type="password" name="lama" placeholder="Password lama" id="passwordLama"><br>
				<input type="password" name="baru" placeholder="Password baru" id="passwordBaru"><br>
				
				<input type="submit" id="ubah" value="UBAH">
				<input type="submit" id="batal" value="BATAL">		
			</form>
		</div>
	</div>
<script type="text/javascript">
	function POPUP() {
		alert("Anda akan mengubah password, apakah anda yakin?");
	}

	document.getElementById('ubahpassword').addEventListener('click',function(){
		document.querySelector('.bg-popup').style.display = 'flex';
	});
	document.getElementById('ubah').addEventListener('click',function(event){
		event.preventDefault()
		if (validate()){
			bersihkanForm()
			document.querySelector('.bg-popup').style.display = 'none';

		}
	});
	document.getElementById('batal').addEventListener('click',function(){
		bersihkanForm()
		document.querySelector('.bg-popup').style.display = 'none';
	});

	const input = document.getElementById("ubahfoto");
	const imgpreview = document.getElementById("imgpreview");
	const imgdefault = document.getElementById("imgdefault");

	input.addEventListener("change", function() {
		const file = this.files[0];

		console.log(file);
		
		if(file){
			const reader = new FileReader();

			reader.addEventListener("load", function() {
				imgpreview.setAttribute("src", this.result);
			});

			reader.readAsDataURL(file);	
			imgdefault.style.display = 'none';
			imgpreview.style.display = 'block';	
		}

	});
</script>
<script type="text/javascript">
	function validate() {
            var passwordLama = document.getElementById('passwordLama').value;
            var passwordBaru = document.getElementById('passwordBaru').value;
            var error_message = document.getElementById('error_message');
            var text;

            error_message.style.padding = "5px";

            if(passwordLama == passwordBaru){
                text = "Password baru tidak boleh sama dengan password lama";
                error_message.innerHTML = text;
                return false;
            } else { 
            	return true; 
            }
    }

    function bersihkanForm(){
    	document.getElementById('passwordLama').value = '';
		document.getElementById('passwordBaru').value = '';
		document.getElementById('error_message').style.display = 'none'; 
    }
</script>
</body>
</html>